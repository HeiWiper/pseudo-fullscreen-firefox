#titlebar {display:none}

@media(-moz-os-version: windows-win10) {[sizemode="maximized"] #nav-bar {margin-top: 8px}}  /*  Workaround  https://bugzilla.mozilla.org/show_bug.cgi?id=1600582  */




/*   Auto hide navbar   */
#nav-bar {
  background-color: black !important;
  transition: none !important}

[sizemode=maximized] #nav-bar:not([customizing]) {margin-bottom: -40px}
[sizemode=normal]    #nav-bar:not([customizing]) {margin-bottom: -38px}

#nav-bar:hover,
#nav-bar:focus-within,
#nav-bar[customizing],
#mainPopupSet:hover ~ box > toolbox > .browser-toolbar {
  background: inherit !important;
  background-color: var(--lwt-accent-color) !important;
  z-index: 2}




/*   Auto hide sidebar   */
#sidebar-header {display:none}

#sidebar-box:not([hidden]) {
  overflow: hidden;
  height: calc(100% - 10px);
  position: fixed;
  max-width: 1px;
  display: block;
  transition: 50ms;
  z-index: 1;
  opacity: 0}

#sidebar-box:hover {
  max-width: 100%;
  opacity: 1}

#sidebar {
  width: 280px !important;
  height: 100%}




/*   Bookmarks   */
.bookmark-item .toolbarbutton-icon,
.openintabs-menuitem,
.bookmarks-actions-menuseparator
  {display:none}

toolbarbutton.bookmark-item {
  margin: 0 !important;
  padding-inline: 6px !important;
  border-radius: 0 !important}

toolbarbutton.bookmark-item menupopup:not(menupopup menupopup) {margin: -4px 0}




/*   Menu   */
menupopup > menuitem, menupopup > menu {padding-block: 0.4em !important}

menuseparator {
  border-top: 7px solid transparent !important;
  margin: 0 !important}

#context-sep-navigation {display:none}




/*   Urlbar   */
* {--urlbar-height: var(--urlbar-toolbar-height) !important}

#urlbar-background:not(#urlbar[breakout][breakout-extend][open] > #urlbar-background) {
  background-color: transparent !important;
  border: transparent !important;
  border-radius: 0 !important;
  box-shadow: none !important}

#nav-bar:not([urlbar-exceeds-toolbar-bounds]):not(#appMenu-popup[panelopen]) {backdrop-filter: blur(16px)}
#urlbar[breakout][breakout-extend][open] > #urlbar-background {backdrop-filter: blur(32px)}

#identity-icon-box {max-width: calc(50px + 10em) !important}

.identity-box-button:not(:hover) {background-color: transparent !important}

.urlbarView-action {margin-block: -4px !important}

.urlbarView-title-separator,
.urlbarView-action,
.search-one-offs > hbox
  {display:none !important}




.toolbarbutton-badge {
  background-color: transparent !important;
  box-shadow: none !important;
  color: var(--toolbar-color) !important;
  margin: -11px 0 0 !important;
  margin-inline-end: -11px !important}




#statuspanel-label {
  border: 0 !important;
  backdrop-filter: blur(32px);
  background-color: #fff8 !important;
  color: #000 !important}

#main-window[lwthemetextcolor="bright"] #statuspanel-label {
  background-color: #0008 !important;
  color: #eee !important}




* {scrollbar-width: thin; 
   scrollbar-color: #80808040 transparent !important}




/*   Repaints the bookmark menu and context menus to the main menu color   */
#mainPopupSet *:not([customoptionstyling]), #navigator-toolbox * {
  --menuitem-hover-background-color: var(--button-hover-bgcolor);
  --menu-background-color: var(--arrowpanel-background) !important;
  --menu-color: var(--arrowpanel-color) !important;
  --menu-disabled-color: var(--panel-disabled-color);
  --menu-border-color: var(--arrowpanel-border-color) !important;
}
.menu-right {fill-opacity: .6 !important}




/*   active same as hover   */
* {
  --toolbarbutton-active-background: var(--toolbarbutton-hover-background);
  --urlbar-box-active-bgcolor: var(--urlbar-box-hover-bgcolor);
  --panelview-toolbarbutton-active-bgcolor: var(--panelview-toolbarbutton-hover-bgcolor);
  --button-active-bgcolor: var(--button-hover-bgcolor);
  --panel-banner-item-active-bgcolor: var(--panel-banner-item-hover-bgcolor);
}




* {
  --arrowpanel-border-color: var(--toolbarbutton-hover-background);
  --menuitem-disabled-hover-background-color: none;
  --panel-separator-zap-gradient: none;
}
#main-window:not([lwtheme-mozlightdark]) #urlbar[breakout][breakout-extend][open] > #urlbar-background {opacity: .9}




/*   Default theme   */
#main-window[lwtheme-mozlightdark] * {
  --lightness-nav: 97%;
  --lightness-contrasting: 0%;
  
  --hue: 240;
  --saturation: 6%;
  --nav:                     hsl(var(--hue), var(--saturation), var(--lightness-nav), .9);
  --arrowpanel-background:   hsl(var(--hue), var(--saturation), calc(var(--lightness-nav) + 3%));
  --arrowpanel-border-color: hsl(var(--hue), var(--saturation), calc(var(--lightness-nav) - 6%));
  --1:                      hsla(var(--hue), var(--saturation), var(--lightness-contrasting), .05);
  --2:                      hsla(var(--hue), var(--saturation), var(--lightness-contrasting), .08);
  --text:                    hsl(var(--hue), var(--saturation), var(--lightness-contrasting));

  --lwt-accent-color: var(--nav);
  --toolbar-bgcolor: var(--nav);
  --lwt-toolbar-field-focus: var(--nav);

  --autocomplete-popup-hover-background: var(--1);
  --panel-separator-color: var(--1);
  --input-bgcolor: var(--1);
  --panelview-toolbarbutton-hover-bgcolor: var(--1);
  --button-hover-bgcolor: var(--1);
  --panel-banner-item-hover-bgcolor: var(--1);

  --toolbarbutton-hover-background: var(--2);
  --autocomplete-popup-separator-color: var(--2);
  --autocomplete-popup-highlight-background: var(--2);
  --urlbar-box-bgcolor: var(--2);
  --urlbar-box-hover-bgcolor: var(--2);
  --button-bgcolor: var(--2);
  --panel-banner-item-background-color: var(--2);
  --zoom-controls-bgcolor: var(--2);

  --toolbarbutton-icon-fill: var(--text);
  --toolbar-color: var(--text);
  --lwt-toolbar-field-color: var(--text);
  --lwt-toolbar-field-focus-color: var(--text);
  --arrowpanel-color: var(--text);
}
#main-window[lwthemetextcolor="bright"][lwtheme-mozlightdark] * {
  --lightness-nav: 6%;
  --lightness-contrasting: 92%;
  
  --arrowpanel-border-color: hsl(var(--hue), var(--saturation), calc(var(--lightness-nav) + 6%));
}
